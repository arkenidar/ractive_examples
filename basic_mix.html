<!doctype html>
<html lang='en-GB'>
<head>
  <meta charset='utf-8'>
  <title>Ractive examples mix</title>
</head>

<body>
  
  <h3>Ractive examples mix</h3>

  <!--
       1. This is the element we'll render our Ractive to.
  -->
  <div id='container'></div>

  <!--
       2. You can load a template in many ways. For convenience, we'll include it in
       a script tag so that we don't need to mess around with AJAX or multiline strings.
       Note that we've set the type attribute to 'text/ractive' - though it can be
       just about anything except 'text/javascript'
  -->
  <script id='template' type='text/ractive'>
    
    <p>
      <input id="name" placeholder="insert name" value="{{name}}">
      <span>Hello, {{name2}}!</span>
    </p>
    
    <p>
      <input type="checkbox" id="show_password" checked="{{show_password}}">
      <label for="show_password">show password</label>
      <input id="password" placeholder="insert password" value="{{password}}" type="{{password_input_type}}">
      <input id="password_repeated" placeholder="repeat password" value="{{password_repeated}}" type="{{password_input_type}}">      
      {{#if password||password_repeated}}
        {{#if password==password_repeated}}
          <span>Password is confirmed</span>
        {{else}}
          <span>Password should be repeated to be confirmed</span>
        {{/if}}
      {{/if}}
    </p>
    
    <p>
      <span>Select a part of this planet:</span>
      <select value='{{ selected_group }}'>
        {{#each ['mineral', 'vegetal', 'animal']}}
          <option>{{this}}</option>
        {{/each}}
      </select>
      
      <select value='{{ selected_entity }}'>
        {{#each entities}}
          <option>{{this}}</option>
        {{/each}}
      </select>
      <span>Our beloved planet has {{selected_entity}}s.</span>
    </p>
    
  </script>

  <!--
       3. You can always get the most recent stable version from the URL below.
       If you want the newest features (unstable!), use the 'edge' version instead:

           http://cdn.ractivejs.org/edge/ractive.min.js

       If you need IE8 support, change 'ractive' to 'ractive-legacy'.
  -->
  <!-- <script src='http://cdn.ractivejs.org/latest/ractive.min.js'></script> -->
  <script src='ractive.js'></script>

  <!--
       4. We've got an element in the DOM, we've created a template, and we've
       loaded the library - now it's time to build our Hello World app.
  -->
  <script>
    new Ractive({
      // The `el` option can be a node, an ID, or a CSS selector.
      el: '#container',

      // We could pass in a string, but for the sake of convenience
      // we're passing the ID of the <script> tag above.
      template: '#template',

      // Here, we're passing in some initial data
      data: {
        name: '',
      },
      computed: {
        name2: function () { return this.get('name')!==''?this.get('name'):"world" },
        
        password_input_type: function(){ return this.get('show_password')?'text':'password'},
        
        entities: function(){
          var groups={
            'mineral': ['emerald', 'quartz', 'lavic rock'],
            'vegetal': ['grass blade', 'bush', 'tree'],
            'animal': ['human', 'cat', 'dog', 'ant'],
          };
          return groups[this.get('selected_group')]
        },
      },
    });
  </script>
  
  <h3>Vue examples mix</h3>
  <script src="vue.js"></script>
  
  <div id="vue">
  
    <p>
      <input placeholder="insert name" v-model="name">
      <span>Hello, {{name2}}!</span>
    </p>
    
    <p>
      <input type="checkbox" id="show_password_vue" v-model="show_password">
      <label for="show_password_vue">show password</label>
      <input placeholder="insert password" v-model="password" type="{{password_input_type}}">
      <input placeholder="repeat password" v-model="password_repeated" type="{{password_input_type}}">      
      <template v-if="password||password_repeated">
        <template v-if="password==password_repeated">
          <span>Password is confirmed</span>
        </template>
        <template v-else>
          <span>Password should be repeated to be confirmed</span>
        </template>
      </template>
    </p>
    
    <p>
      <span>Select a part of this planet:</span>
      <select v-model="selected_group">
        <option v-for="group in ['mineral', 'vegetal', 'animal']" 
        value="{{ group }}">{{ group }}</option>
      </select>
      
      <select v-model="selected_entity">
      <option v-for="entity in entities"
        value="{{ entity }}">{{entity}}</option>
      </select>
      <span v-if="selected_entity">Our beloved planet has {{selected_entity}}s.</span>
    </p>
  </div>

  <script>
  var vue = new Vue({
  el: '#vue',
  data: {
    name: '',
  },
  computed: {
    name2: function () { return this.name!==''?this.name:"world" },
    password_input_type: function(){ return this.show_password?'text':'password' },
    entities: function(){
      var groups={
        'mineral': ['emerald', 'quartz', 'lavic rock'],
        'vegetal': ['grass blade', 'bush', 'tree'],
        'animal': ['human', 'cat', 'dog', 'ant'],
      };
      return groups[this.selected_group]
    },
  }
  })
  </script>
  
</body>
</html>